<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="default.css" >
        <link rel="icon" 
            type="image/png" 
            href="favicon.png">
    </head>
    </style>
    <body>
        <div class="content"> 
            <div align="center"> 
                <a href="index.html"><img src="son_of_man_round.png"/></a>
                <div class="top-menu" align="center">
                    <a class="top-link" href="/mail/login.html">Webmail</a> 
                    <a class="top-link" href="blogs.html">News</a>
                    <!-- <a class="top-link" href="name_reg.html">Check name registration</a>
                    <a class="top-link" href="name_reg.html">Change password (encryption key)</a> -->
                </div>
            </div>
            <hr>
            <!-- <p align="center"><img src="son_of_man_round.png"/></p> -->
            <!-- <p align = "right">
                <h2 style = "text-align: right;">
                <a name = "#top" href="/mail/login.html"> Webmail</a>&ensp;&ensp;
                <a name = "#top" href="blogs.html"> News</a>
            </h2>
            </p> -->
            <h1>Ubikom: Blockchain-Powered Digital Identity for Secure Communications</h1>
            <p><a href="mailto:lgx@ubikom.cc">lgx@ubikom.cc</a>; <a href="mailto:sasha@ubikom.cc">sasha@ubikom.cc</a></p>

            <p style="font-weight: bold;">Help testing our <a href="testing_eth.html">Ethereum integration.</a></p>

            <p>Ubikom is for you if you are worried about privacy of your emails, run a business that requires full
                confidentiality of communication, concerned about government or corporate
                Big Brother spying on you, or looking for a robust, convenient and customer-friendly solution for a
                regulated agency or a health care organization.</p>
            <p>
                Digital avatar is a central concept of Ubikom. An avatar consists of a name freely chosen by the user and
                the encryption keys tied to this name. Avatars are created, owned, and managed by users.
                Ubikom is a decentralized infrastructure of digital avatars on a blockchain.  </p>

            <p>Encryption and decentralization ensures superior data privacy,
                resistance to censorship, secure communication, and convenient online authentication.</p>

            <p> There are <a href="/beyond_email.html">numerous applications</a> of the avatar registry. Our
                initial focus is on creating secure decentralized email. All Ubikom emails are end-to-end encrypted with
                <a href="https://en.wikipedia.org/wiki/Elliptic-curve_cryptography" target="_blank" rel="noopener noreferrer">the
                    algorithms</a>
                that safeguard Bitcoin. Even if your emails are intercepted,
                cryptography makes it impossible to read their content. As all Ubikom emails are encrypted by default,
                users donâ€™t need to worry about confidentiality within Ubikom system.</p>

            <p>Moreover, the decentralized registry is immune to censorship and incorruptible. The integrity of records is
                protected by blockchain technology. No state or corporate actor can ban anyone from using Ubikom.</p>

            <p>If you want to give Ubikom a try, you can start on this page by choosing a name for your avatar/ email identifier.
            You can also find out more information below.</p>

            <p style="font-weight: bold;" id="network"></p>
            <form id="name-form">
                <input type="text" id="identifier" placeholder="identifier (i.e. bob)"/>
                <button name="submit" id="nextButton">Next</button>
                <i><p id="status" style="margin: 0"></p></i>
            </form>
            <p><i>Identifier must be a single word, only letters, numbers and symbols "_" and "-" are allowed.</i></p>
            <h2>Helpful Tools</h2>
            <p><a href="name_reg.html">Check name registration</a></p>
            <p><a href="change_enckey.html">Change password (encryption key)</a></p>
            <p><a href="register_endpoint.html">Update endpoint</a></p>
            <p><a href="sell_name.html">Sell a name</a></p>
            <p><a href="buy_name.html">Buy a name</a></p>
            <p><a href="register_name_with_public_key.html">Register name and specify public key (advanced)</a></p>
            <p><a href="check_mailbox.html">Check mailbox encryption (advanced)</a></p>
            <p><a href="check_encryption_key.html">Check encryption key (advanced)</a></p>
            <h2>Helpdesk</h2>
            <p><a href="/clients.html">How to configure email clients</a> (Currently in beta)</p>

            <p></p>
            <h2>Support the Project</h2>
            <p>Donate ETH to <div style="font-weight: bold;">0x7513bf6b503f69f8abAc1D404eE668Fb8D307Fa1</div>
            </p>
            <p><img src="support_address.png"/> </p>
            <h2>Find out more</h2>
            <p><a href="/intro.html" target="_blank" rel="noopener noreferrer">Let's Reinvent Email</a></p>
            <p><a href="/beyond_email.html" target="_blank" rel="noopener noreferrer">Beyond Email</a></p>

            <p><a href="/tech-description.html" target="_blank" rel="noopener noreferrer">Technical Description</a></p>

            <h2>Get on board, get in touch</h2>
            <p>GitHub repo: <a href="https://github.com/regnull/ubikom">github.com/regnull/ubikom</a> (developers are welcome to
                contribute).</p>
            <p>Contact: <a href="mailto: lgx@ubikom.cc">lgx@ubikom.cc</a>; <a href="mailto: sasha@ubikom.cc">sasha@ubikom.cc</a>
            </p>
            <p>On twitter: <a href="https://twitter.com/UbikomProject">@UbikomProject</a> (yes, using Twitter does strike us as
                ironic).</p>
            <p>Join our Reddit community: <a href="https://www.reddit.com/r/ubikom/">Ubikom on Reddit</a></p>
    </div>
    <script src ="scripts/common.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js" type="text/javascript"></script>
    <script>
        function submit(event) {
            event.preventDefault();
            if (!nextEnabled) {
                return;
            }
            let name = document.getElementById('identifier').value;
            location.href = `register_name.html?name=${name}`;
        }

        function setStatus(msg, color) {
            let status = document.getElementById("status");
            status.innerHTML = msg;
            status.style.color = color;
        }

        function clearStatus() {
            document.getElementById("status").innerHTML = " ";
        }

        function enableNext(enable) {
            if (enable) {
                document.getElementById('nextButton').style.opacity = 1.0;
                nextEnabled = true;
                return;
            }
            document.getElementById('nextButton').style.opacity = 0.6;
            nextEnabled = false;
        }

        document.getElementById("network").innerHTML = `Using ${getNetworkName()}`;

        const web3 = new Web3(getInfuraUrl());
        const nameRegistry = new web3.eth.Contract(nameRegistryContractAbi, getContractAddress());

        let nameHandler = new NameHandler(document.getElementById("identifier").value, nameRegistry, (o) => {
            clearStatus();

            if (o.error) {
                setStatus(o.error, '#FF0000');
                enableNext(false);
                return;
            }

            if (o.available) {
                setStatus("available!", '#3ADF00');
                enableNext(true);
            } else {
                let price = weiToEth(o.price);
                let forSaleStr = 'not for sale';
                if (o.price != 0) {
                    forSaleStr = `for sale for <a href="buy_name.html?name=${o.name}">${price} ETH</a>`;
                }
                setStatus(`owned by <a href='${getEtherscanAddressUrl(o.owner)}' target='_blank'>${o.owner}</a>, ` +
                    forSaleStr, '#FF0000');
                enableNext(false);
            }
        });

        let nextEnabled = false;

        let idInput = document.getElementById("identifier");
        idInput.onkeyup = () => {
            nameHandler.updateName(idInput.value);
        };
        enableNext(false);
        document.getElementById('nextButton').onclick = submit;
    </script>
    </body>
</html>
